package com.xcontent.model;

import lombok.Data;
import org.springframework.data.annotation.Id;
import org.springframework.data.mongodb.core.mapping.Document;
import java.util.*;

@Data
@Document(collection = "template_imports")
public class TemplateImport {
    @Id
    private String id;
    private String name;
    private String format;
    private ImportSource source;
    private ImportStatus status;
    private String importedBy;
    private Long startedAt;
    private Long completedAt;
    private Map<String, Object> metadata;
    private List<ImportValidation> validations;
    private List<ImportError> errors;
    private Map<String, Object> importSettings;
}

@Data
@Document(collection = "template_exports")
public class TemplateExport {
    @Id
    private String id;
    private List<String> templateIds;
    private String format;
    private ExportDestination destination;
    private ExportStatus status;
    private String exportedBy;
    private Long startedAt;
    private Long completedAt;
    private Map<String, Object> metadata;
    private List<ExportResult> results;
    private List<ExportError> errors;
    private Map<String, Object> exportSettings;
}

@Data
public class ImportSource {
    private String type; // FILE, URL, REPOSITORY
    private String location;
    private Map<String, Object> credentials;
    private Map<String, Object> options;
}

@Data
public class ExportDestination {
    private String type; // FILE, URL, REPOSITORY
    private String location;
    private Map<String, Object> credentials;
    private Map<String, Object> options;
}

@Data
public class ImportValidation {
    private String field;
    private String rule;
    private ValidationStatus status;
    private String message;
    private Map<String, Object> details;
}

public enum ImportStatus {
    PENDING,
    VALIDATING,
    IMPORTING,
    COMPLETED,
    FAILED,
    CANCELLED
}

public enum ExportStatus {
    PENDING,
    PREPARING,
    EXPORTING,
    COMPLETED,
    FAILED,
    CANCELLED
}

public enum ValidationStatus {
    PASSED,
    WARNING,
    FAILED
}
