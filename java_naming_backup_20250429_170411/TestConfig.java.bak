package com.xcontent.test.config;

import org.springframework.context.annotation.Bean;
import org.springframework.context.annotation.Configuration;
import org.springframework.context.annotation.Profile;
import java.util.*;

@Configuration
@Profile("test")
public class TestConfig {

    @Bean
    public TestDataManager testDataManager() {
        return new TestDataManager();
    }

    @Bean
    public TestExecutionManager testExecutionManager() {
        return new TestExecutionManager();
    }

    @Bean
    public LoadTestManager loadTestManager() {
        return new LoadTestManager();
    }

    @Bean
    public SecurityTestManager securityTestManager() {
        return new SecurityTestManager();
    }
}

@Configuration
@Profile("test")
public class TestDataConfig {
    
    @Bean
    public DataGenerator dataGenerator() {
        DataGenerator generator = new DataGenerator();
        
        generator.registerGenerator("user", new UserDataGenerator());
        generator.registerGenerator("template", new TemplateDataGenerator());
        generator.registerGenerator("transaction", new TransactionDataGenerator());
        
        return generator;
    }

    @Bean
    public TestDataRepository testDataRepository() {
        return new TestDataRepository();
    }
}

@Configuration
@Profile("test")
public class LoadTestConfig {
    
    @Bean
    public LoadTestScenarioManager scenarioManager() {
        return new LoadTestScenarioManager();
    }

    @Bean
    public MetricsCollector metricsCollector() {
        return new LoadTestMetricsCollector();
    }

    @Bean
    public LoadTestReportGenerator reportGenerator() {
        return new LoadTestReportGenerator();
    }
}
