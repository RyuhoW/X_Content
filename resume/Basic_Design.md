# 基本設計書

## 1. 概要

本設計書は、X.com Content Generator アプリケーションの基本設計について記述します。本アプリケーションは、ユーザーが高品質なコンテンツ（テキストやビジュアル）を生成し、スケジュール投稿や分析を行うためのツールです。また、PythonおよびRを活用した機械学習モジュールを組み込むことで、データ分析や予測精度を向上させます。

---

## 2. 開発環境

### 2.1 使用技術

- **プログラミング言語**: Java (バージョン 21)、Python、R
- **フレームワーク**: JavaFX (UI)、Spring Boot (バックエンド)
- **スタイルシート**: Sass (CSSプリプロセッサ)
- **データベース**: SQLite
- **機械学習**:
  - Python: Scikit-learn、Pandas、NumPy、Matplotlib
  - R: caret、tidyverse
- **ツール**:
  - JDK 21
  - Maven
  - Git
  - Docker（必要に応じたコンテナ化）
  - TestFX（UI自動テスト）
  - JUnit 5（単体テスト）
  - SonarQube（コード品質分析）

---

## 3. 機能一覧

本アプリケーションが提供する主要な機能は以下の通りです。

### 3.1 アカウント管理

- ユーザー認証（OAuth 2.0を使用）
- アカウント情報の表示・編集
- APIトークン管理

### 3.2 コンテンツ生成

- テキストコンテンツの自動生成（キーワードベース）
- ハッシュタグ提案と最適化
- AIを活用したコンテンツのトーンや長さの調整

### 3.3 スケジュール投稿

- 投稿の予約スケジュール設定
- スケジュール投稿の管理と編集

### 3.4 機械学習分析

- エンゲージメント予測（PythonおよびRを使用）
- 最適な投稿時間帯の提案
- コンテンツパフォーマンスの視覚化

### 3.5 設定とカスタマイズ

- ユーザーごとのテーマ設定
   - 通知設定

### 3.6 アップデートとライセンス管理

- 自動アップデート機能
- ライセンスキーの登録と検証

---

## 4. システム構成

以下にシステム全体の構成を示します。

### 4.1 フロントエンド

- **技術**: JavaFX
- **主なコンポーネント**:
  - UIビュー（FXMLファイル）
  - スタイル（Sassを使用）
  - コントローラー（MVCパターンによるロジック分離）
- **目的**: ユーザーインターフェースの提供、ユーザー操作の受け付け

### 4.2 バックエンド

- **技術**: Spring Boot
- **主なコンポーネント**:
  - サービス層（ビジネスロジックの実行）
  - リポジトリ層（データベース操作）
  - APIクライアント（外部APIとの連携）
- **目的**: ビジネスロジックの処理、データ管理

### 4.3 機械学習モジュール

- **技術**: Python、R
- **主なコンポーネント**:
  - エンゲージメント予測モデル（Python）
  - データ視覚化と統計分析（R）
- **目的**: データ分析、予測精度の向上

---

## 5. アクセシビリティと多言語対応

### 5.1 アクセシビリティ

- **キーボードおよびマウスの両対応**:
  - すべての操作をキーボードで実行可能。
  - フォーカスインジケータやショートカットキーを実装。
- **WCAG 2.1 AA準拠**:
  - テキストと背景のカラーコントラストを確保。
  - フォントサイズやスケールを調整可能にする。

### 5.2 多言語対応

- **日本語と英語をサポート**:
  - アプリケーション内で言語切り替えが可能。
  - 文言はリソースファイル（例: `i18n.properties`）で管理。

---

## 6. ディレクトリ構造

以下に、プロジェクトのディレクトリ構造を示します。

```
src/
├── main/
│   ├── java/
│   │   └── com/
│   │       └── xcontent/
│   │           ├── application/
│   │           ├── config/
│   │           ├── controller/
│   │           ├── model/
│   │           │   ├── analytics/
│   │           │   └── auth/
│   │           ├── repository/
│   │           │   └── impl/
│   │           ├── service/
│   │           │   ├── api/
│   │           │   └── auth/
│   │           └── util/
│   └── resources/
│       ├── db/
│       ├── fxml/
│       ├── images/
│       ├── styles/
│       └── machine_learning/
│           ├── python/
│           │   ├── EngagementPredictor.py
│           │   └── DataPreprocessor.py
│           └── r/
│               └── Visualization.R
```

---

## 7. 開発フロー

1. **要件定義**:
   - 機能要件と非機能要件を明確化する。

2. **設計**:
   - 基本設計書および詳細設計書を作成。
   - 機械学習モデルの設計（Python/Rのスクリプト）。

3. **実装**:
   - Javaコードの開発。
   - PythonおよびRのスクリプト作成。
   - UI設計（FXML/Sass）。

4. **テスト**:
   - 単体テスト、結合テスト、エンドツーエンドテストを実施。
   - 機械学習モデルの精度検証。

5. **デプロイ**:
   - jlinkおよびjpackageを使用してパッケージング。
   - Windows/MSI、macOS/DMG、Linux/DEB形式でインストーラーを生成。

---

## 8. 非機能要件

### 8.1 パフォーマンス

- 投稿エンゲージメント予測処理を1秒以内に完了させる。

### 8.2 セキュリティ

- OAuth 2.0による安全な認証。
- データ暗号化（AES-GCM）。

### 8.3 ユーザビリティ

- 見やすく直感的なUIデザイン。
- エラーメッセージやガイドの充実。

---

## 9. システム要件

- **OS**: Windows 10以降、macOS 11以降、Ubuntu 20.04以降
- **RAM**: 4GB以上
- **ストレージ**: 500MB以上の空き容量
- **ネットワーク**: インターネット接続（API連携のため）

---

## 10. 今後の拡張

- 他のSNSプラットフォーム（例: Instagram、Facebook）への投稿機能拡張（現時点では不要）。
- より高度な機械学習モデルの導入。
- チームコラボレーション機能の追加。
